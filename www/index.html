<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

  <title>Wolfmo</title>

</head>

<style>
  .image_placeholder{
    width:600px;
    height:500px;
}
</style>

<body>
  <!-- JS -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"   integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="   crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>

  <!-- Container containing all of Wolfmo -->
  <div class="container bg-light">

    <div style="text-align: center; font-size: 60px; color: red; font-weight: bold; padding-bottom: 40px; padding-top: 40px; text-shadow: 2px 2px black;">Wolfmo</div>

    <!-- User Select
    <row>
      <form method="POST" action="/submit-form">

      </form>
    </row>-->
    
    <!-- Payment Form -->
    <form class="row g-3" method="POST" action="/submit-form">

      <!-- Meme upload -->
      <div style="padding-bottom: 20px; padding-top: 20px;" class="row g-3">
        <div class="col-sm-6">
          <img width = "100%" class="img-responsive image_placeholder" id="preview"/>
        </div>
        <br>
        <div class="col-sm-6">
          <label for="file" class="btn-danger" style="padding-top: 10px; padding-bottom: 10px; padding-left: 10px; padding-right: 10px; border-radius: 5px;">Upload Meme</label>
          <input id="file" style="visibility:hidden;" type="file" accept="image/*" onchange="previewImage(event)">
        </div>
        <script>
            const previewImage = e => {
              const preview = document.getElementById('preview');
              preview.src = URL.createObjectURL(e.target.files[0]);
              preview.onload = () => URL.revokeObjectURL(preview.src);
            };
        </script>
      </div>

      <!-- User Select -->
      <div class="mb-3">
        <select id="users" name="users" class="form-select" aria-label="Default select example">
          <option value="" disabled selected>Select your user</option>
        </select>
      </div>

      <!-- Payment -->
      <div class="form-group col-sm-3">
        <label for="payment">Payment ($)</label>
        <input type="text" class="form-control" id="payment" name="payment">
      </div>

      <!-- CC Name & Number -->
      <div class="form-group col-12" style="padding-top: 10px;">
        <input type="text" class="form-control" id="ccname" placeholder="Cardholder's Name" name="ccname">
        <br>
        <input type="text" class="form-control" id="ccnumber" placeholder="Card Number" name="ccnumber">
      </div>

      <!-- CC Month -->
      <div class="form-group col-sm-3">
        <label for="ccmonth">Month</label>
        <select class="form-control" id="ccmonth" name="ccmonth">
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
            <option>6</option>
            <option>7</option>
            <option>8</option>
            <option>9</option>
            <option>10</option>
            <option>11</option>
            <option>12</option>
        </select>
      </div>

      <!-- CC Year -->
      <div class="form-group col-sm-3">
        <label for="ccyear">Year</label>
        <select class="form-control" id="ccyear" name="ccyear">
            <option>2021</option>
            <option>2022</option>
            <option>2023</option>
            <option>2024</option>
            <option>2025</option>
            <option>2026</option>
            <option>2027</option>
            <option>2028</option>
            <option>2029</option>
            <option>2030</option>
        </select>
      </div>

      <!-- CVC -->
      <div class="form-group col-sm-3">
        <label for="cvv">CVV/CVC</label>
          <input class="form-control" id="cvv" type="text" placeholder="123" name="cvv">
      </div>
      <div class="form-group col-sm-3 d-flex flex-column justify-content-center align-items-center">
        <br>
        <img src="https://www.pinclipart.com/picdir/middle/333-3337663_lock-scan-comments-lock-and-key-clipart.png" style="width: 20px; height: 25px;">
        <p style="font-weight: bold; font-size: 20px;">128-bit secured</p>
      </div>

      <!-- Pay Button -->
      <row>
        <div class="col text-center" style="padding-top: 30px; padding-bottom: 50px;">
          <button type="submit" class="btn btn-danger" style="width: 15%">Pay</button>
        </div>
      </row>
    </form>
  </div>

  <script>

$(function() {
 
    

    fetch('/users')
        .then( response => response.json() )
        .then( data => {
          let users = ""
          for (var user of data )
          {
              users += `<option value="${user}">${user}</option>`;
          }
          $('#users').append(users);
        });

});
  </script>
</body>
</html>